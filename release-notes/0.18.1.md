# Firefly 0.18.1 Release Notes 

## HDR, Tonemapping, Msaa 
Firefly is now fully compatible with HDR, Tonemapping and Msaa. This offers a lot more depth to lights. 

Before, lights could have an intensity that goes up to 1. Now, intensity can be arbitrarily high. 

| Intensity: 1  | Intensity: 3 |
| ------------- | ------------- |
| <img width="1600" height="900" alt="0eef4d05-4ea3-4596-a368-70029bace276" src="https://github.com/user-attachments/assets/baed4d85-f571-4bb6-8e27-a897e5477521" /> | <img width="1600" height="900" alt="c5973646-3104-4129-8152-675994de11fe" src="https://github.com/user-attachments/assets/63aecdd0-5d28-4656-838a-fb06ce81b37e" /> |
| <img width="1600" height="900" alt="76ce2ae2-ebd2-4188-9847-43f09651ad84" src="https://github.com/user-attachments/assets/fd2fac98-c6a0-4e7a-8158-459c67c7175d" /> | <img width="1600" height="900" alt="ad521f08-38cc-4980-a1e5-8a93c086bf16" src="https://github.com/user-attachments/assets/f730d745-8c29-43a0-a526-49d881180fda" />  |


Note that using HDR requires inserting the `Hdr` Bevy comonent on the camera. Same for Tonemapping and Msaa.    

## Changes to Light Banding 
Firefly previously allowed users to set a number of bands that the light band will be divided into. This was no longer possible with HDR, since there wasn't a clear way to decide 
how high color channels could be in order to divide them by a number. 

Instead, you now have an option to set the size of a light band. For instance, setting light bands to 0.3 will turn all values in the interval `[0-0.3]` to a single value, 1.5, all values in `[0.3-0.6]` to 4.5, and so on.
If you were setting the light bands to 4 before, you can now set them to 0.25 to achieve the same effect, but keep in mind that using HDR might create more than 4 channels if a light's intensity goes higher than 1, so you may need to adjust it accordingly.   


| (Old) Light Bands: 4  | HDR: on, Light Bands: 0.25 | HDR: on, Light Bands: 0.7|
| ------------- | ------------- | ------------- |
| <img width="823" height="788" alt="image" src="https://github.com/user-attachments/assets/1d26537f-74b5-4744-a5f8-835a4828a355" /> | <img width="823" height="788" alt="image2" src="https://github.com/user-attachments/assets/0acafb8e-f47d-4a32-9b97-59d42caf59e9" /> | <img width="823" height="788" alt="image3" src="https://github.com/user-attachments/assets/a24f69e4-c3bd-4753-b1d8-9a149b787030" /> |


## New Gizmos 
The `FireflyGimos` plugin will now also show gizmos for lights, and you can manually set the `FireflyGizmoStyle` component to alter the gizmo colors.

## Bugfixes
- Fixed a bug where despawned occluders would sometimes still block light. 
